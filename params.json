{"name":"Klesk","tagline":"","body":"# Klesk\r\nKlesk is a Slack service to store and return ladder data for Quake Live or whatever game you like.\r\n\r\n[![Build Status](https://travis-ci.org/TheOneYouDontLike/Klesk.svg?branch=master)](https://travis-ci.org/TheOneYouDontLike/Klesk)\r\n\r\n## Features\r\n- `newladder <laddername> [<keyword>]`<br/>\r\ncreates a new ladder with name `<laddername>`<br/>\r\nmap selection: a random map will be assigned to the ladder if `<keyword>` is not specified<br/>\r\n`<keyword>` makes map selection ignore maps with negative `<keyword>` vote count and choose maps with higher `<keyword>` vote count more often<br />\r\nsends notification to configured slack webhook about a new ladder\r\n\r\n- `joinladder <laddername>`<br/>\r\nadds your slack name to ladder `<laddername>` and initialises matches against all other participants<br/>\r\nsends notification to configured slack webhook about a new player in the ladder\r\n\r\n- `addresult <laddername> <player1> <player2> [<score>]`<br/>\r\nadds match result, the winner should be indicated by a `+` sign before their name<br/>\r\nyou can optionally provide match `<score>` which will later be displayed with match result<br/>\r\nsends notification to configured slack webhook about match result\r\n\r\n- `leaveladder <laddername>`<br/>\r\nremoves all your matches from ladder `<laddername>`<br/>\r\nsends notification to configured slack webhook about player leaving the ladder\r\n\r\n- `ranking <laddername>`<br/>\r\nsends the list of `<laddername>`'s matches with their results to your @slackbot slack channel\r\n\r\n- `showstats <laddername>`<br/>\r\nsends the list of your matches in ladder `<laddername>` with their results to your @slackbot slack channel\r\n\r\n- `showladders`<br/>\r\nlists all created ladders\r\n\r\n- `upvotemap <mapname> <keyword>`\r\n- `downvotemap <mapname> <keyword>`<br/>\r\nadds (`upvotemap`) or subtracts (`downvotemap`) 1 from vote `<keyword>` count for map `<mapname>`<br/>\r\nthe number of votes is used when selecting maps for new ladders (see `newladder`)\r\n\r\n- `listmaps`<br/>\r\nlists all configured maps with keyword vote breakdown\r\n\r\n## Installation\r\nSimply run inside Klesk directory:\r\n\r\n`npm install`\r\n\r\nRunning application requires: webpack and nodemon.\r\n\r\n`npm install -g webpack nodemon`\r\n\r\n### Running Klesk for development\r\nTesting the application requires mocha.\r\n\r\n`npm install -g mocha`\r\n\r\n`webpack` (or `webpack -w` for watching files) for building the app.\r\n\r\n`npm run watch` for watching build output and restarting service.\r\n\r\nBefore building create **config.js** file in the root directory.\r\nJust copy following configuration and customize what you need\r\n\r\n```\r\nexport default {\r\n  port: 1666,\r\n  storageFilename: 'ladders.json',\r\n  mapsFilename: 'maps.json',\r\n  notificationWebhookAddress: 'https://your-incoming-slack-hook',\r\n  notificationChannel: '#notifications', //OPTIONAL: if not set then slack incoming-webhook default channel will be used\r\n  botUsername: 'Klesk', //OPTIONAL: if not set then slack incoming-webhook name will be used\r\n  botIconUrl: 'http://absolute-path-to-your-bot-icon' //OPTIONAL: if not set slack default bot icon will be used\r\n  logErrorsToFile: true, // whether to log to file or only to console\r\n  errorsLogPath: './'\r\n};\r\n```\r\n\r\nmaps.json schema example:\r\n\r\n```\r\n[\r\n  { \"name\": \"Campgrounds\" },\r\n  { \"name\": \"Aerowalk\" }\r\n  ...\r\n]\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}